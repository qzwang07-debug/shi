## 修复数据库头像字段长度不足问题

### 问题说明

`sys_user` 表的 `avatar` 字段长度只有 `100` 字符，无法存储阿里云OSS的完整URL（约200+字符）。

### 修改文件

#### 1. 修改SQL定义文件

**文件路径**: `d:\code\zNova\sql\_localhost-2026_01_16_13_25_29-dump.sql`

**修改内容**:

* 将 `sys_user` 表的 `avatar` 字段从 `varchar(100)` 改为 `varchar(500)`

```sql
-- 原定义
`avatar` varchar(100) DEFAULT '' COMMENT '头像地址',

-- 新定义  
`avatar` varchar(500) DEFAULT '' COMMENT '头像地址',
```

#### 2. 提供数据库修复SQL脚本

在执行修改前，需要先在现有数据库上运行以下SQL：

```sql
-- 修改 sys_user 表的 avatar 字段长度
ALTER TABLE sys_user MODIFY COLUMN avatar varchar(500) DEFAULT '' COMMENT '头像地址';

-- 同时修改 app_user 表的 avatar 字段（确保一致性）
ALTER TABLE app_user MODIFY COLUMN avatar varchar(500) DEFAULT '' COMMENT '头像地址';
```

### 实施步骤

1. **修改SQL文件** - 更新表结构定义
2. **提供修复脚本** - 用户在数据库中执行

### 预期效果

* 头像URL可以正常存储到数据库

* 与 `app_user` 表的 avatar 字段长度保持一致（500字符）

